import{r as u,j as e,X as f,A as _}from"./app-BlGjxBIj.js";import{T as v}from"./TextInput-CdFz38IR.js";import{c as j}from"./createLucideIcon-ygrqHp1I.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],y=j("chevron-left",N);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k=j("chevron-right",C);function E({from:l,data:o,columns:n,handleClick:t="",withFilter:c=!1}){const[s,p]=u.useState(""),[d,m]=u.useState("all"),r=o.filter(a=>{var i;return s?d==="all"?n.some(h=>{var b;return(((b=a[h.key])==null?void 0:b.toString().toLowerCase())||"").includes(s.toLowerCase())}):(((i=a[d])==null?void 0:i.toString().toLowerCase())||"").includes(s.toLowerCase()):!0});function x(a,i,h){return a.key==="id"?l+i:a.render?a.render(h,i):h[a.key]}return e.jsxs("div",{children:[c&&e.jsxs("div",{className:"flex space-x-2 mt-3",children:[e.jsx("input",{type:"text",placeholder:"Filter...",className:"input input-bordered rounded-md",value:s,onChange:a=>p(a.target.value)}),e.jsxs("select",{className:"select select-bordered rounded-md",value:d,onChange:a=>m(a.target.value),children:[e.jsx("option",{value:"all",children:"All Columns"}),n.map(a=>e.jsx("option",{value:a.key,children:a.label},a.key))]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsx("tr",{children:n.map((a,i)=>e.jsx("th",{className:a.classHead,children:a.label},i))})}),e.jsx("tbody",{children:r.length!==0?r.map((a,i)=>e.jsx("tr",{className:`
                  ${i%2!==0?"bg-slate-50 dark:bg-slate-800":"bg-white dark:bg-slate-900"} 
                  group ${t&&"cursor-pointer"}
                `,onClick:()=>t&&t(a),children:n.map((h,g)=>e.jsx("td",{className:"group-hover:text-light-primary dark:group-hover:text-dark-primary "+h.classBody,children:x(h,i,a)},g))},i)):e.jsx("tr",{className:"text-center",children:e.jsx("td",{colSpan:n.length+1,children:"No matching records found"})})})]})})]})}const $=({value:l,onChange:o})=>{const[n,t]=u.useState(l);u.useEffect(()=>{t(l)},[l]);const c=s=>{s.key==="Enter"&&o(n)};return e.jsxs("div",{className:"w-48 md:w-72",children:[e.jsx(v,{id:"search",name:"search",type:"search",value:n,className:"mt-1 block w-full",onKeyDown:c,onChange:s=>t(s.target.value),placeholder:"Search..."}),e.jsx("p",{className:"italic text-xs text-gray-400 my-1",children:" Press 'enter' to start search "})]})};function F({routeName:l,textButton:o="Create"}){return e.jsx("a",{className:"btn btn--primary",href:route(l),children:o})}function T({firstIndex:l,lastIndex:o,total:n,currentPage:t,lastPage:c,onPageChange:s,className:p=""}){return e.jsxs("div",{className:`pagination ${p}`,children:[e.jsxs("span",{className:"pagination__info",children:["Showing ",e.jsxs("b",{children:[l," - ",o]})," of ",e.jsx("b",{children:n})," Entries"]}),c!=1&&e.jsxs("nav",{className:"pagination__nav",children:[e.jsxs("button",{className:`pagination__button ${t==1?"pagination__button--disabled":"pagination__button--enabled"}`,onClick:d=>{d.preventDefault(),s(t-1)},disabled:t==1,children:[e.jsx("span",{className:"pagination__label--desktop",children:"Previous"}),e.jsxs("span",{className:"pagination__label--mobile",children:[" ",e.jsx(y,{})," "]})]}),e.jsxs("span",{className:"pagination__counter",children:[t," / ",c]}),e.jsxs("button",{className:`pagination__button ${t==c?"pagination__button--disabled":"pagination__button--enabled"}`,onClick:d=>{d.preventDefault(),s(t+1)},disabled:t==c,children:[e.jsx("span",{className:"pagination__label--desktop",children:"Next"}),e.jsxs("span",{className:"pagination__label--mobile",children:[" ",e.jsx(k,{})," "]})]})]})]})}const D=({routeName:l})=>{const{search:o}=f().props,[n,t]=u.useState(o||""),[c,s]=u.useState(1);u.useEffect(()=>{const r=new URLSearchParams(window.location.search);t(r.get("search")||""),s(parseInt(r.get("page")||"1",10))},[o]);const p=r=>{t(r||""),m({search:r||"",page:1})},d=r=>{s(r||1),m({search:n||"",page:r||1})},m=({search:r="",page:x=1})=>{if(!l){console.error("Route name is undefined.");return}_.get(route(l),{search:r,page:x},{replace:!0})};return{querySearch:n,currentPage:c,handleQueryChange:p,handlePageChange:d}};export{F as C,E as M,T as P,$ as S,D as u};
